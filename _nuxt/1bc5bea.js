(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{268:function(t,e,r){var o=r(2),n=r(269),h=r(93);o({target:"Array",proto:!0},{fill:n}),h("fill")},269:function(t,e,r){"use strict";var o=r(24),n=r(94),h=r(16);t.exports=function(t){for(var e=o(this),r=h(e.length),c=arguments.length,l=n(c>1?arguments[1]:void 0,r),f=c>2?arguments[2]:void 0,d=void 0===f?r:n(f,r);d>l;)e[l++]=t;return e}},270:function(t,e,r){var content=r(273);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(97).default)("1b7833da",content,!0,{sourceMap:!1})},272:function(t,e,r){"use strict";r(270)},273:function(t,e,r){var o=r(96)(!1);o.push([t.i,"body{position:relative}canvas{display:block;position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}",""]),t.exports=o},285:function(t,e,r){"use strict";r.r(e);var o=r(88),n=(r(44),r(131),r(8),r(17),r(58),r(194),r(268),r(95),r(42),r(34),{data:function(){return{word:"MOZART",backgroundColor:"#160804",fontFamily:"monospace",matches:{horz:[],vert:[]},shuffle:undefined,textSize:20,theCanvas:{}}},computed:{wordAsArray:function(){return this.word.split("")},factorial:function(){return this.factorialize(this.wordAsArray.length)}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.shuffle=this.doShuffle(this.factorial,this.matches),document.getElementById("portrait-image").addEventListener("load",(function(e){t.createOrRedrawCanvas(this)}))},doShuffle:function(t){return function(t){for(var e,i,r=t.length;r;)i=Math.floor(Math.random()*r--),e=t[r],t[r]=t[i],t[i]=e;return t}(Object(o.a)(Array(t).keys()))},onClick:function(t){this.shuffle=this.doShuffle(this.factorial,this.matches),this.createOrRedrawCanvas()},createOrRedrawCanvas:function(img){var t={resolution:this.calcResolution,word:this.word,fontFamily:this.fontFamily,wordAsArray:this.word.split(""),shape:this.drawLetter};this.textSize=void 0,img?this.theCanvas=img.closePixelate(t):this.theCanvas.render(t)},pickPermutation:function(t,e,r){if(e<r)return console.log("n (".concat(r,") cannot be larger than factorial (").concat(e,") !!!")),[];for(var n,q,h,c=r,l=Object(o.a)(t),f=[],d=e;l.length>0;)q=(c-(n=c%(d/=l.length)))/d,h=l.splice(q,1)[0],f.push(h),c=n;return f},storeMatches:function(){console.log("RAZ matches at start of storeMatches"),this.matches.horz.splice(0,this.matches.horz.length),this.matches.vert.splice(0,this.matches.vert.length);for(var t=[],e={boundary:void 0,candidate:[]},i=0;i<this.wordAsArray.length*this.factorial;i++){if(0===t.length){var r=this.shuffle[i/this.wordAsArray.length];t=this.pickPermutation(this.wordAsArray,this.factorial,r),0===r&&(t=new Array(this.wordAsArray.length).fill("·"))}var o=t.shift(),n=this.testIfMatch(this.wordAsArray,o,i,e);n&&(this.matches.horz.push(n),console.log("added match!",this.matches.horz))}},testIfMatch:function(t,e,r,o){var n;function h(t){t.candidate.splice(0,t.candidate.length),t.boundary=void 0}r%t.length==0&&(o.boundary=r-o.candidate.length),o.candidate.push(e);for(var i=0;i<o.candidate.length;i++)if(o.candidate[i]!==t[i]){h(o);break}return i===t.length&&(n=o.boundary,console.log("hourrah!",function(t,e){for(var r=[],o=0;o<t.length;o++)o===e%t.length&&r.push("|"),r.push(t[o]);return r.join("")}(t,o.boundary)),h(o)),n},drawLetter:function(t,e,r,i,o,n,h,c,l){var f=l;if(void 0===f||0===f.length){var d=this.shuffle[i/e.length];f=this.pickPermutation(e,r.factorial,d),0===d&&(f=new Array(this.word.length).fill("·"))}var v=f.shift();if(this.textSize||(this.textSize=function(text,e){t.save(),t.font="bold 1px ".concat(e," ");var r=t.measureText(text),o=r.width,n=r.fontBoundingBoxAscent+r.fontBoundingBoxDescent;return t.restore(),Math.min(h/o,c/n)}(v,this.fontFamily)),t.font="bold ".concat(this.textSize,"px ").concat(this.fontFamily),this.matches.horz.length)for(var b=0;b<this.matches.horz.length;b++){var m=this.matches.horz[b];m<=i&&i<m+this.word.length&&(t.save(),t.fillStyle="rgba(255,0,0,0.45)",t.fillRect(o-4,n+2,h,c),i%e.length==0&&(console.log("found match!"),t.fillStyle="black",t.fillRect(o-3,n,1,c+2)),t.restore())}return t.fillText(v,o,n+c,h),f},calcResolution:function(t,e,r,o,n){var h=this.factorialize(t.length),c=this.getDivisorsList(h).map((function(t){return{x:t,y:h/t,ratio:t/(h/t)}})),l=o/n/(e/r),f=this.binarySearch(c.map((function(t){return t.ratio})),l),d=c[f],v=d.x*t.length,m=d.y,y=o/v,w=n/m;return this.storeMatches(),{x:v,y:m,cx:y,cy:w,factorial:h}},factorialize:function(t){if(void 0!==t)return t<0?-1:0===t?1:t*this.factorialize(t-1)},getDivisorsList:function(t){var e,r=[];return e=t,Object(o.a)(Array(e+1).keys()).slice(1).reduce((function(s,a){var t=!(e%a)&&a;return t&&r.push(t),s+t}),0),r},binarySearch:function(t,e){if(1===t.length)return 0;var r=Math.floor(t.length/2);return t[r]===e?r:t[r]>e?this.binarySearch(t.slice(0,r),e):t[r]<e?r+this.binarySearch(t.slice(r),e):r}}}),h=(r(272),r(53)),component=Object(h.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"vh-100",style:"background-color: "+t.backgroundColor,on:{click:t.onClick}},[r("img",{attrs:{id:"portrait-image",src:"/jpegs/Mozart-Lange-darker.jpg"}})])}),[],!1,null,null,null);e.default=component.exports}}]);