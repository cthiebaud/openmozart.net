(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{268:function(t,e,r){var o=r(2),n=r(269),h=r(93);o({target:"Array",proto:!0},{fill:n}),h("fill")},269:function(t,e,r){"use strict";var o=r(24),n=r(94),h=r(16);t.exports=function(t){for(var e=o(this),r=h(e.length),c=arguments.length,l=n(c>1?arguments[1]:void 0,r),f=c>2?arguments[2]:void 0,d=void 0===f?r:n(f,r);d>l;)e[l++]=t;return e}},270:function(t,e,r){var content=r(273);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(97).default)("1b7833da",content,!0,{sourceMap:!1})},272:function(t,e,r){"use strict";r(270)},273:function(t,e,r){var o=r(96)(!1);o.push([t.i,"body{position:relative}canvas{display:block;position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%;transform:scale(.98);background-color:#160804}",""]),t.exports=o},285:function(t,e,r){"use strict";r.r(e);var o=r(88),n=(r(44),r(131),r(8),r(17),r(268),r(58),r(194),r(95),r(42),r(34),{data:function(){return{word:"MOZART",backgroundColor:"#160804",fontFamily:"monospace",matches:{horz:[],vert:[]},shuffle:undefined,textSize:20,theCanvas:{},theRatio:{}}},computed:{wordAsArray:function(){return this.word.split("")},factorial:function(){return this.factorialize(this.wordAsArray.length)}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.shuffle=this.doShuffle(this.factorial),document.getElementById("portrait-image").addEventListener("load",(function(e){t.createOrRedrawCanvas(this)}))},doShuffle:function(t){return function(t){for(var e,i,r=t.length;r;)i=Math.floor(Math.random()*r--),e=t[r],t[r]=t[i],t[i]=e;return t}(Object(o.a)(Array(t).keys()))},onClick:function(){this.shuffle=this.doShuffle(this.factorial),this.createOrRedrawCanvas()},createOrRedrawCanvas:function(img){var t={fontFamily:this.fontFamily,resolution:this.calcResolution,shape:this.drawLetter,word:this.word,wordAsArray:this.wordAsArray};this.textSize=void 0,img?this.theCanvas=img.closePixelate(t):this.theCanvas.render(t)},pickShuffledPermutation:function(t){var e=this.shuffle[Math.floor(t)];return 0===e?new Array(this.wordAsArray.length).fill("Â·"):this.pickPermutation(this.wordAsArray,this.factorial,e)},pickPermutation:function(t,e,r){if(e<r)return console.log("n (".concat(r,") cannot be larger than factorial (").concat(e,") !!!")),[];for(var n,q,h,c=r,l=Object(o.a)(t),f=[],d=e;l.length>0;)q=(c-(n=c%(d/=l.length)))/d,h=l.splice(q,1)[0],f.push(h),c=n;return f},vertical:function(t){for(var e={boundary:void 0,candidate:[]},col=0;col<this.theRatio.x;col++)for(var r=0;r<this.theRatio.y;r++){var i=col+r*this.theRatio.x,o=i/this.wordAsArray.length,n=i%this.wordAsArray.length,h=this.pickShuffledPermutation(o)[n];e.boundary=e.boundary||i;var c=this.testIfMatch(this.wordAsArray,e,h);c&&(this.matches.vert.push(c),console.log("added VERTICAL match!",this.matches.vert))}},storeMatches:function(){console.log("RAZ matches at start of storeMatches"),this.matches.horz.splice(0,this.matches.horz.length),this.matches.vert.splice(0,this.matches.vert.length),this.vertical();for(var t=[],e={boundary:void 0,candidate:[]},i=0;i<this.wordAsArray.length*this.factorial;i++){0===t.length&&(t=this.pickShuffledPermutation(i/this.wordAsArray.length));var r=t.shift();i%this.wordAsArray.length==0&&(e.boundary=i-e.candidate.length);var o=this.testIfMatch(this.wordAsArray,e,r);o&&(this.matches.horz.push(o),console.log("added HORIZONTAL match!",this.matches.horz))}},printCandidate:function(t,e){for(var r=[],i=0;i<t.length;i++)i===e%t.length&&r.push("|"),r.push(t[i]);return r.join("")},resetCandidate:function(t){t.candidate.splice(0,t.candidate.length),t.boundary=void 0},testIfMatch:function(t,e,r){var o;e.candidate.push(r);for(var i=0;i<e.candidate.length;i++)if(e.candidate[i]!==t[i]){this.resetCandidate(e);break}return i===t.length&&(o=e.boundary,console.log("hourrah!",this.printCandidate(t,e.boundary)),this.resetCandidate(e)),o},drawLetter:function(t,e,r,i,o,n,h,c,l){var f=l;void 0!==f&&0!==f.length||(f=this.pickShuffledPermutation(i/e.length));var d=f.shift();if(this.textSize||(this.textSize=function(text,e){t.save(),t.font="bold 1px ".concat(e," ");var r=t.measureText(text),o=r.width,n=r.fontBoundingBoxAscent+r.fontBoundingBoxDescent;return t.restore(),Math.min(h/o,c/n)}(d,this.fontFamily),t.font="bold ".concat(this.textSize,"px ").concat(this.fontFamily)),i%this.theRatio.x<this.theRatio.x-this.wordAsArray.length&&this.matches.horz.length)for(var b=0;b<this.matches.horz.length;b++){var v=this.matches.horz[b];v<=i&&i<v+this.word.length&&(v===i?(t.save(),t.fillStyle="rgba(255,0,0,0.5)",t.fillRect(o,n,h*this.word.length-1,c-1),t.restore()):i%e.length==0&&(t.save(),t.fillStyle="black",t.fillRect(o,n,1,c),t.restore()))}if(this.matches.vert.length)for(var y=0;y<this.matches.vert.length;y++){var m=this.matches.vert[y];m<=i&&i<m+this.word.length&&(m===i?(t.save(),t.fillStyle="rgba(255,0,0,0.5)",t.fillRect(o,n,h-1,c*this.word.length-1),t.restore()):i%e.length==0&&(t.save(),t.fillStyle="black",t.fillRect(o,n,h,1),t.restore()))}return t.textAlign="center",t.textBaseline="bottom",t.fillText(d,o+h/2,n+c,h),f},calcResolution:function(t,e,r,o,n){var h=this.factorialize(t.length),c=this.getDivisorsList(h).map((function(t){return{x:t,y:h/t,ratio:t/(h/t)}})),l=o/n/(e/r),f=this.binarySearch(c.map((function(t){return t.ratio})),l),d=c[f].x*t.length,v=c[f].y,y=o/d,m=n/v;return this.theRatio={x:d,y:v,cx:y,cy:m,factorial:h},this.storeMatches(),this.theRatio},factorialize:function(t){if(void 0!==t)return t<0?-1:0===t?1:t*this.factorialize(t-1)},getDivisorsList:function(t){var e,r=[];return e=t,Object(o.a)(Array(e+1).keys()).slice(1).reduce((function(s,a){var t=!(e%a)&&a;return t&&r.push(t),s+t}),0),r},binarySearch:function(t,e){if(1===t.length)return 0;var r=Math.floor(t.length/2);return t[r]===e?r:t[r]>e?this.binarySearch(t.slice(0,r),e):t[r]<e?r+this.binarySearch(t.slice(r),e):r}}}),h=(r(272),r(53)),component=Object(h.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"vh-100",style:"background-color: "+t.backgroundColor,on:{click:t.onClick}},[r("img",{attrs:{id:"portrait-image",src:"/jpegs/Mozart-Lange-darker.jpg"}})])}),[],!1,null,null,null);e.default=component.exports}}]);