(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{268:function(t,r,n){var e=n(2),o=n(269),c=n(93);e({target:"Array",proto:!0},{fill:o}),c("fill")},269:function(t,r,n){"use strict";var e=n(24),o=n(94),c=n(16);t.exports=function(t){for(var r=e(this),n=c(r.length),h=arguments.length,l=o(h>1?arguments[1]:void 0,n),f=h>2?arguments[2]:void 0,d=void 0===f?n:o(f,n);d>l;)r[l++]=t;return r}},270:function(t,r,n){var content=n(273);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(97).default)("1b7833da",content,!0,{sourceMap:!1})},272:function(t,r,n){"use strict";n(270)},273:function(t,r,n){var e=n(96)(!1);e.push([t.i,"body{position:relative}canvas{display:block;position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}",""]),t.exports=e},285:function(t,r,n){"use strict";n.r(r);var e=n(88),o=(n(44),n(131),n(8),n(17),n(58),n(195),n(95),n(194),n(268),n(42),n(34),{data:function(){var t="MOZART",r=t.split(""),n=this.factorialize(t.length);return{word:t,wordAsArray:r,backgroundColor:"#160804",factorial:n,fontFamily:"monospace",match:{boundary:void 0,candidate:[]},shuffle:this.shuffleArray(Object(e.a)(Array(n).keys())),textSize:20,theCanvas:{}}},mounted:function(){this.init()},methods:{init:function(){var t=this;document.getElementById("portrait-image").addEventListener("load",(function(r){t.createOrRedrawCanvas(this)}))},onClick:function(t){this.shuffle=this.shuffleArray(Object(e.a)(Array(this.factorial).keys())),this.createOrRedrawCanvas()},createOrRedrawCanvas:function(img){var t={resolution:this.calcResolution,word:this.word,fontFamily:this.fontFamily,wordAsArray:this.word.split(""),shape:this.drawLetter};this.textSize=void 0,img?this.theCanvas=img.closePixelate(t):this.theCanvas.render(t)},pickPermutation:function(t,r,n){if(r<n)return console.log("n (".concat(n,") cannot be larger than factorial (").concat(r,") !!!")),[];for(var o,q,c,h=n,l=Object(e.a)(t),f=[],d=r;l.length>0;)q=(h-(o=h%(d/=l.length)))/d,c=l.splice(q,1)[0],f.push(c),h=o;return f},testIfMatch:function(t,i){function r(t){t.candidate.splice(0,t.candidate.length),t.boundary=void 0}i%this.word.length==0&&(this.match.boundary=this.match.candidate.length),this.match.candidate.push(t);for(var n=0;n<this.match.candidate.length;n++)if(this.match.candidate[n]!==this.wordAsArray[n]){r(this.match);break}n===this.wordAsArray.length&&(console.log("hourrah!",function(t){for(var r=[],n=0;n<t.candidate.length;n++)n===t.boundary&&r.push("|"),r.push(t.candidate[n]);return r.join("")}(this.match)),r(this.match))},drawLetter:function(t,r,n,i,e,o,c,h,l){var f=l;if(void 0===f||0===f.length){var d=this.shuffle[i/r.length];f=this.pickPermutation(r,n,d),0===d&&(f=new Array(this.word.length).fill("Â·"))}var v=f.shift();return this.textSize||(this.textSize=function(text,r){t.save(),t.font="bold 1px ".concat(r," ");var n=t.measureText(text),e=n.width,o=n.fontBoundingBoxAscent+n.fontBoundingBoxDescent;return t.restore(),Math.min(c/e,h/o)}(v,this.fontFamily)),t.font="bold ".concat(this.textSize,"px ").concat(this.fontFamily),t.fillText(v,e,o+h,c),this.testIfMatch(v,i),f},calcResolution:function(t,r,n,e,o){var c=this.factorialize(t.length),h=this.getDivisorsList(c).map((function(t){return{x:t,y:c/t,ratio:t/(c/t)}})),l=e/o/(r/n),f=this.binarySearch(h.map((function(t){return t.ratio})),l),d=h[f],v=d.x*t.length,y=d.y;return{x:v,y:y,cx:e/v,cy:o/y,factorial:c}},factorialize:function(t){if(void 0!==t)return t<0?-1:0===t?1:t*this.factorialize(t-1)},getDivisorsList:function(t){var r,n=[];return r=t,Object(e.a)(Array(r+1).keys()).slice(1).reduce((function(s,a){var t=!(r%a)&&a;return t&&n.push(t),s+t}),0),n},binarySearch:function(t,r){if(1===t.length)return 0;var n=Math.floor(t.length/2);return t[n]===r?n:t[n]>r?this.binarySearch(t.slice(0,n),r):t[n]<r?n+this.binarySearch(t.slice(n),r):n},shuffleArray:function(t){for(var r,i,n=t.length;n;)i=Math.floor(Math.random()*n--),r=t[n],t[n]=t[i],t[i]=r;return t}}}),c=(n(272),n(53)),component=Object(c.a)(o,(function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("main",{staticClass:"vh-100",style:"background-color: "+t.backgroundColor,on:{click:t.onClick}},[n("img",{attrs:{id:"portrait-image",src:"/jpegs/Mozart-Lange-darker.jpg"}})])}),[],!1,null,null,null);r.default=component.exports}}]);